# 開発計画書: 習慣化支援BBS

## フェーズ1: バックエンド基盤構築

- [x] **DEV-01**: 開発環境の構築 (uv, Docker) `[NF-06]`
    - ローカル開発用Dockerfile: `./Dockerfile.dev`に記載
    - ビルドとコンテナの起動スクリプト: `./rebuild_or_restart.sh`に記載
- [x] **DEV-02**: FastAPIプロジェクトの初期設定 `[NF-03]`
- [ ] **DEV-03**: Firestoreとの接続設定 `[NF-04]`
- [ ] **DEV-04**: Gemini APIとの接続設定 `[NF-05]`

## フェーズ2: API実装（スレッド機能）

- [ ] **DEV-05**: スレッド作成API (`POST /api/threads`) の実装 `[F-04]`
- [ ] **DEV-06**: スレッド一覧取得API (`GET /api/threads`) の実装 `[F-05]`
- [ ] **DEV-07**: スレッド削除API (`DELETE /api/threads/{id}`) の実装 `[F-06]`

## フェーズ3: API実装（チャット機能）

- [ ] **DEV-08**: 投稿取得API (`GET /api/threads/{id}/posts`) の実装 `[F-08, F-10]`
- [ ] **DEV-09**: 投稿作成API (`POST /api/threads/{id}/posts`) の実装 (イッチの投稿部分) `[F-07]`

## フェーズ4: API実装（AIレスポンス機能）

- [ ] **DEV-10**: 投稿作成APIに、名無しAIのレスポンス生成ロジックを追加 `[A-01, A-02]`
- [ ] **DEV-11**: 投稿作成APIに、解説ニキのレスポンス生成ロジックを追加 `[A-03, A-04]`
- [ ] **DEV-12**: ポーリング対応 (`is_generating` フラグ）のロジックを実装 `[NF-07, A-05]`

## フェーズ5: フロントエンド実装

- [ ] **DEV-13**: スレッド一覧画面の作成 `[F-01, F-05]`
- [ ] **DEV-14**: スレッド作成画面の作成 `[F-02, F-04]`
- [ ] **DEV-15**: チャット画面の作成と投稿表示 `[F-03, F-08, F-10]`
- [ ] **DEV-16**: 投稿フォームとAPI連携の実装 `[F-07]`
- [ ] **DEV-17**: AIレスポンスのポーリング処理と画面反映 `[A-05, NF-07]`
- [ ] **DEV-18**: アンカー機能、UIモード切替などの詳細機能実装 `[F-09, F-11]`

## フェーズ6: デプロイ

- [ ] **DEV-19**: Cloud Runへのデプロイ準備と実行 `[NF-01]`